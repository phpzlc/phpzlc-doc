---
title:  "创建更新数据库结构"
permalink: doc/start
date: 2020-11-03
tags: doc,js

---

## 官方链接

[https://symfony.com/doc/current/doctrine.html#migrations-creating-the-database-tables-schema](https://symfony.com/doc/current/doctrine.html#migrations-creating-the-database-tables-schema)

## 配置数据库

```shell
    .env
    ###> doctrine/doctrine-bundle ###
    DATABASE_URL=mysql://db_user:db_password@127.0.0.1:3306/db_name?serverVersion=5.7
    ###< doctrine/doctrine-bundle ###
```

## 创建数据库及更新结构

> 创建数据库

```shell
    php bin/console doctrine:database:create
```

> 创建结构

```shell
    php bin/console doctrine:schema:create
```

> 更新结构

```shell
    php bin/console doctrine:schema:update --force
```

## 创建实体及相关资源生成命令

*{entityClassName}* **选填** 未指定的话则对话式询问，询问不指定则对所有实体生效

> 创建实体

```shell
    php bin/console make:entity {entityClassName}
```

> 生成get-set,RepositoryClass

```shell
    php bin/console make:entity {entityClassName} --regenerate
```

> 覆盖get-set,RepositoryClass

```shell
    php bin/console make:entity {entityClassName} --regenerate --overwrite
```


